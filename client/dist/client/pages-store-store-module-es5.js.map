{"version":3,"sources":["webpack:///src/app/models/products_model.ts","webpack:///src/app/pages/store/cart/cart.component.ts","webpack:///src/app/pages/store/cart/cart.component.html","webpack:///src/app/pages/store/cart/invoice/invoice.component.ts","webpack:///src/app/pages/store/cart/invoice/invoice.component.html","webpack:///src/app/pages/store/newproduct/newproduct.component.ts","webpack:///src/app/pages/store/newproduct/newproduct.component.html","webpack:///src/app/pages/store/product/product.component.ts","webpack:///src/app/pages/store/product/product.component.html","webpack:///src/app/pages/store/store-routing.module.ts","webpack:///src/app/pages/store/store.component.ts","webpack:///src/app/pages/store/store.component.html","webpack:///src/app/pages/store/store.filter.pipe.ts","webpack:///src/app/pages/store/store.module.ts","webpack:///src/app/services/cart.services.ts","webpack:///src/app/services/products.services.ts"],"names":["Products","_id","productName","brand","price","description","image","material","CartComponent","Title","productsservices","usersservices","route","router","cartServices","currencyPipe","invoiceData","rfc","razonSocial","direccionFiscal","emailFactura","deseaFactura","MyProducts","url","setTitle","identity","getIdentity","token","getToken","reduce","sum","x","qtyTotal","toDoPay","street","document","querySelector","value","alert","clearCart","getProducts","changeSubtotal","product","index","qty","amt","subTotal","subTotal_converted","transform","subTotalItems","toArray","nativeElement","innerHTML","saveCart","removeFromCart","removeProduct","ngOnInit","loadCart","submitInvoiceData","console","log","selector","templateUrl","styleUrls","providers","InvoiceComponent","facturaHTML","facturaWindow","window","open","write","close","print","NewproductComponent","products","onSubmit","f","addNewProduct","subscribe","response","INFO_PRODUCT","alertMessage","filesToUpload","makeFileRequest","then","result","error","fileChangeEvent","fileInput","target","files","params","Promise","resolve","reject","formData","FormData","xhr","XMLHttpRequest","i","length","append","name","onreadystatechange","readyState","status","JSON","parse","setRequestHeader","send","ProductComponent","addToCart","productsInCart","getProductAlone","login","navigate","forEach","id","getProduct","onCancelProduct","confirm","scrollIntoView","behavior","onDeleteConfirm","onDeleteProduct","deleteProduct","productsRemoved","onUpdateConfirm","update","onUpdateCancel","onUpdateProduct","updateProduct","routes","path","component","StoreRoutingModule","forChild","imports","exports","StoreComponent","next_page","prev_page","page","ProductFilterPipe","searchTerm","filter","toLowerCase","indexOf","StoreModule","declarations","CartServices","addedProduct","push","localStorage","setItem","stringify","getItem","findIndex","o","splice","removeItem","providedIn","ProductsServices","http","json","headers","post","get","put"],"mappings":"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","file":"pages-store-store-module-es5.js","sourcesContent":["export class Products{\r\n    constructor(\r\n        public _id: string,\r\n        public productName: string,\r\n        public brand: string,\r\n        public price: string,\r\n        public description: string,\r\n        public image: string,\r\n        public material: string,\r\n    ){}\r\n}","import { Component, OnInit, ViewChildren, ElementRef, QueryList } from '@angular/core';\r\nimport { Router, ActivatedRoute, Params } from '@angular/router';\r\nimport { Title } from '@angular/platform-browser';\r\nimport { CurrencyPipe } from \"@angular/common\";\r\nimport { GLOBAL } from '../../../services/GLOBAL';\r\nimport { UsersServices } from '../../../services/users.services';\r\nimport { ProductsServices } from \"../../../services/products.services\";\r\nimport { Products } from \"../../../models/products_model\";\r\nimport { CartServices } from '../../../services/cart.services';\r\nimport { Users } from 'src/app/models/users_model';\r\n\r\n@Component({\r\n  selector: 'app-cart',\r\n  templateUrl: './cart.component.html',\r\n  styleUrls: ['./cart.component.scss'],\r\n  providers: [UsersServices, ProductsServices]\r\n})\r\nexport class CartComponent implements OnInit {\r\n\r\n  @ViewChildren(\"subTotalWrap\") subTotalItems: QueryList<ElementRef>;\r\n  @ViewChildren(\"subTotalWrap_existing\") subTotalItems_existing: QueryList<ElementRef>;\r\n\r\n  public identity;\r\n  public token;\r\n  public url: string;\r\n  public users: Users;\r\n\r\n  // Agregamos invoiceData para almacenar la información de la factura\r\n  invoiceData = {\r\n    rfc: '',\r\n    razonSocial: '',\r\n    direccionFiscal: '',\r\n    emailFactura: '',\r\n    deseaFactura: false\r\n  };\r\n\r\n  constructor(\r\n    private Title: Title,\r\n    private productsservices: ProductsServices,\r\n    private usersservices: UsersServices,\r\n    private route: ActivatedRoute,\r\n    private router: Router,\r\n    public cartServices: CartServices,\r\n    private currencyPipe: CurrencyPipe\r\n  ) {\r\n    this.url = GLOBAL.url;\r\n    this.Title.setTitle(\"Cart - Centli\");\r\n    this.identity = this.usersservices.getIdentity();\r\n    this.token = this.usersservices.getToken();\r\n  }\r\n\r\n  MyProducts = [];\r\n\r\n  get total() {\r\n    return this.MyProducts.reduce(\r\n      (sum, x) => ({\r\n        qtyTotal: 1,\r\n        price: sum.price + x.qtyTotal * x.price\r\n      }),\r\n      { qtyTotal: 1, price: 0 }\r\n    ).price;\r\n  }\r\n\r\n  public confirm;\r\n\r\n  toDoPay(MyProducts) {\r\n    var street = (<HTMLInputElement>document.querySelector('.street')).value;\r\n    if (street != null) {\r\n      alert(\"Tu pedido se realizó con éxito, los productos llegarán dentro de 3 a 5 días.\");\r\n      this.cartServices.clearCart(MyProducts);\r\n      this.MyProducts = [...this.cartServices.getProducts()];\r\n    } else {\r\n      alert(\"Debes colocar a donde se va enviar tu producto.\")\r\n    }\r\n  }\r\n\r\n  // Función para manejar el cambio en el subtotal\r\n  changeSubtotal(product, index) {\r\n    const qty = product.qtyTotal;\r\n    const amt = product.price;\r\n    const subTotal = amt * qty;\r\n    const subTotal_converted = this.currencyPipe.transform(subTotal, \"MX\");\r\n\r\n    this.subTotalItems.toArray()[index].nativeElement.innerHTML = subTotal_converted;\r\n    this.cartServices.saveCart();\r\n  }\r\n\r\n  // Función para eliminar un producto del carrito\r\n  removeFromCart(product) {\r\n    this.cartServices.removeProduct(product);\r\n    this.MyProducts = this.cartServices.getProducts();\r\n  }\r\n\r\n  // Función para limpiar el carrito\r\n  clearCart(MyProducts) {\r\n    this.cartServices.clearCart(MyProducts);\r\n    this.MyProducts = [...this.cartServices.getProducts()];\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.identity = this.usersservices.getIdentity();\r\n    this.token = this.usersservices.getToken();\r\n    this.cartServices.loadCart();\r\n    this.MyProducts = this.cartServices.getProducts();\r\n  }\r\n\r\n  // Método para enviar los datos de la factura\r\n  submitInvoiceData() {\r\n    if (this.invoiceData.deseaFactura) {\r\n      // Validar que todos los campos de la factura estén completos\r\n      if (this.invoiceData.rfc && this.invoiceData.razonSocial && this.invoiceData.direccionFiscal && this.invoiceData.emailFactura) {\r\n        // Aquí iría la lógica para enviar los datos al servidor, por ejemplo\r\n        console.log('Datos para la factura:', this.invoiceData);\r\n        alert('Factura solicitada con éxito');\r\n      } else {\r\n        alert('Por favor, completa todos los campos requeridos para la factura');\r\n      }\r\n    } else {\r\n      alert('No has solicitado factura');\r\n    }\r\n  }\r\n}\r\n","<div *ngIf=\"identity\">\r\n    <app-navbar-store></app-navbar-store>\r\n    <h2>Mi carrito de compras</h2>\r\n    <div class=\"scrollme\">\r\n        <table class=\"table\">\r\n            <thead>\r\n                <tr>\r\n                    <th scope=\"col\"></th>\r\n                    <th scope=\"col\">Nombre del producto</th>\r\n                    <th scope=\"col\">C/U</th>\r\n                    <th scope=\"col\">Cantidad</th>\r\n                    <th scope=\"col\">P. Final</th>\r\n                    <th scope=\"col\" class=\"text-center\">Eliminar</th>\r\n                </tr>\r\n            </thead>\r\n            <tbody>\r\n                <tr *ngFor=\"let product of MyProducts; let i = index;\" id=\"{{product._id}}\">\r\n                    <th><img src=\"{{url + '/get-image-product/' + product.image}}\" width=\"50px\" alt=\"\"></th>\r\n                    <td>{{product.productName}}</td>\r\n                    <td class=\"price\">{{product.price | currency}}</td>\r\n                    <td>\r\n                        <input\r\n                        [(ngModel)]=\"product.qtyTotal\"\r\n                        [ngModelOptions]=\" {standalone: true} \"\r\n                        min=\"1\"\r\n                        type=\"number\"\r\n                        value= {{product.qtyTotal}}\r\n                        name=\"\"\r\n                        class=\"form-control col-12 col-sm-8 col-md-4 col-lg-4\"\r\n                        (change)=\"changeSubtotal(product ,i)\"\r\n                        >\r\n                    </td>\r\n                    <td>\r\n                        <div class=\"col-2 pr-0\">\r\n                            <div #subTotalWrap>{{ product.price | currency }}</div>\r\n                        </div>\r\n                    </td>\r\n                    <td>\r\n                        <button class=\"btn btn-danger btn-sm m-auto d-block waves-effect waves-ripple rounded\" (click)=\"removeFromCart(product)\">x</button>\r\n                    </td>\r\n                </tr>\r\n            </tbody>\r\n        </table>\r\n    </div>\r\n    <div class=\"total\">\r\n        <div>\r\n            <h3 class=\"text-uppercase\">Total a pagar: <hr width=\"25%\"><br class=\"visible-sm\"><span> {{total | currency}} MX</span></h3>\r\n            <div class=\"\">\r\n                <a class=\"btn clean waves-effect waves-ripple rounded col-9 col-sm-5 col-md-3 col-lg-3\" (click)=\"clearCart(MyProducts)\">\r\n                    <img src=\"../../../../assets/svg/cartE.svg\" alt=\"Icon\">\r\n                    Vaciar mi carrito\r\n                </a>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n    <div class=\"pay-form\" *ngFor=\"let product of MyProducts\">\r\n        <hr width=\"50%\">\r\n        <h3 class=\"text-center\">Datos de mi tarjeta</h3>\r\n        <hr width=\"50%\">\r\n        <form class=\"col-12 col-sm-8 col-md-6 col-lg-5 d-block m-auto\">\r\n            \r\n <!-- Métodos de pago -->\r\n <div class=\"payment-methods mt-3\">\r\n    <h5 class=\"text-center\">Métodos de pago</h5>\r\n    <div class=\"row justify-content-center\">\r\n        <div class=\"col-4 text-center\">\r\n            <img src=\"../../../../assets/img/mercado.png\" alt=\"Mercado Libre\" class=\"payment-icon\" style=\"width: 200px; height: auto;\">\r\n            <button class=\"btn btn-mercado btn-sm mt-2\">Mercado Libre</button>\r\n        </div>\r\n        <div class=\"col-4 text-center\">\r\n            <img src=\"../../../../assets/img/paypal.png\" alt=\"PayPal\" class=\"payment-icon\" style=\"width: 200px; height: auto;\">\r\n            <button class=\"btn btn-paypal btn-sm mt-2\">PayPal</button>\r\n        </div>\r\n        <div class=\"col-4 text-center\">\r\n            <img src=\"../../../../assets/img/gogole.png\" alt=\"Google Pay\" class=\"payment-icon\" style=\"width: 200px; height: auto;\">\r\n            <button class=\"btn btn-googlepay btn-sm mt-2\">Google Pay</button>\r\n        </div>\r\n    </div>\r\n</div>\r\n<br>\r\n<br>\r\n            <!-- Información del titular de la tarjeta -->\r\n            <p class=\"col-12\">\r\n                <img src=\"../../../../assets/svg/person.svg\" alt=\"Icon\" class=\"icon\">\r\n                <input type=\"text\" class=\"form-control\" placeholder=\"Ingresa tu nombre\" required value=\"{{identity.name}} {{identity.fathersurname}} {{identity.mothersurname}}\">\r\n            </p>\r\n            \r\n            <!-- Número de tarjeta -->\r\n            <p class=\"col-12\">\r\n                <img src=\"../../../../assets/svg/debit_card.svg\" alt=\"Icon\" class=\"icon\">\r\n                <input type=\"text\" class=\"form-control\" placeholder=\"Ingresa tu tarjeta de credito\" required value=\"{{identity.creditcard}}\">\r\n            </p>\r\n    \r\n            <!-- NIP -->\r\n            <p class=\"col-12\">\r\n                <img src=\"../../../../assets/svg/nip.svg\" alt=\"Icon\" class=\"icon\">\r\n                <input type=\"text\" class=\"form-control\" placeholder=\"Ingresa tu NIP\" required value=\"{{identity.nip}}\">\r\n            </p>\r\n    \r\n            <!-- Fecha de expiración -->\r\n            <p class=\"col-12\">\r\n                <img src=\"../../../../assets/svg/date.svg\" alt=\"Icon\" class=\"icon\">\r\n                <input type=\"text\" class=\"form-control\" placeholder=\"Fecha de expiración\" required value=\"{{identity.expiration_date}}\">\r\n            </p>\r\n    \r\n            <!-- Dirección -->\r\n            <p class=\"col-12\">\r\n                <img src=\"../../../../assets/svg/location.svg\" alt=\"Icon\" class=\"icon\">\r\n                <input type=\"text\" class=\"form-control street\" placeholder=\"Ubicación de tu calle\" required>\r\n            </p>\r\n    \r\n\r\n  <!-- Incrustación de Google Maps debajo del formulario -->\r\n  <h5 class=\"text-center\">AQUI PUEDE RECOGER TU PEDIDO</h5>\r\n  <div class=\"google-maps\" style=\"width: 100%; height: 400px; margin-top: 20px;\">\r\n    <iframe \r\n    src=\"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d939.9357055686223!2d-99.1762896339959!3d19.552651808882093!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x85d1f7c3a5832aeb%3A0xcda64171435b5d51!2sTortilleria%20CENTLI!5e0!3m2!1ses-419!2smx!4v1731267284724!5m2!1ses-419!2smx\"\r\n        width=\"100%\" \r\n        height=\"100%\" \r\n        style=\"border:0;\" \r\n        allowfullscreen=\"\" \r\n        loading=\"lazy\" \r\n        referrerpolicy=\"no-referrer-when-downgrade\">\r\n    </iframe>\r\n</div>\r\n\r\n<BR>\r\n<h5 class=\"text-center\">PEDIDOS EN TODA LA REPUBLICA SE COBRARA ENVIO DE 100$</h5>\r\n<div class=\"google-maps\" style=\"width: 100%; height: 400px; margin-top: 20px;\">\r\n    <iframe \r\n    src=\"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d15019367.370395655!2d-113.26052594252658!3d23.21258333154409!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x84043a3b88685353%3A0xed64b4be6b099811!2zTcOpeGljbw!5e0!3m2!1ses-419!2smx!4v1731267359166!5m2!1ses-419!2smx\"\r\n        width=\"100%\" \r\n        height=\"100%\" \r\n        style=\"border:0;\" \r\n        allowfullscreen=\"\" \r\n        loading=\"lazy\" \r\n        referrerpolicy=\"no-referrer-when-downgrade\">\r\n    </iframe>\r\n</div>\r\n\r\n\r\n\r\n            <!-- Botón de pago -->\r\n            <button type=\"submit\" (click)=\"toDoPay(product);\" class=\"btn btn-pay-now btn-sm d-block\">Realizar pago</button>\r\n    \r\n    \r\n            <!-- Sección para solicitar factura -->\r\n            <div class=\"invoice-request mt-4\">\r\n                <h5 class=\"text-center\">Solicitar Factura</h5>\r\n                <hr>\r\n                <div class=\"row\">\r\n                    <div class=\"col-12\">\r\n                        <label for=\"rfc\">RFC:</label>\r\n                        <input type=\"text\" id=\"rfc\" class=\"form-control\" placeholder=\"Ingresa tu RFC\" [(ngModel)]=\"invoiceData.rfc\">\r\n                    </div>\r\n                    <div class=\"col-12 mt-2\">\r\n                        <label for=\"razonSocial\">Razón Social:</label>\r\n                        <input type=\"text\" id=\"razonSocial\" class=\"form-control\" placeholder=\"Ingresa tu razón social\" [(ngModel)]=\"invoiceData.razonSocial\">\r\n                    </div>\r\n                    <div class=\"col-12 mt-2\">\r\n                        <label for=\"direccionFiscal\">Dirección Fiscal:</label>\r\n                        <input type=\"text\" id=\"direccionFiscal\" class=\"form-control\" placeholder=\"Ingresa tu dirección fiscal\" [(ngModel)]=\"invoiceData.direccionFiscal\">\r\n                    </div>\r\n                    <div class=\"col-12 mt-2\">\r\n                        <label for=\"emailFactura\">Correo Electrónico para Factura:</label>\r\n                        <input type=\"email\" id=\"emailFactura\" class=\"form-control\" placeholder=\"Ingresa tu correo\" [(ngModel)]=\"invoiceData.emailFactura\">\r\n                    </div>\r\n                    <div class=\"col-12 mt-3\">\r\n                        <label class=\"checkbox-inline\">\r\n                            <input type=\"checkbox\" [(ngModel)]=\"invoiceData.deseaFactura\" /> ¿Deseas recibir factura?\r\n                        </label>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            \r\n            <button type=\"button\" class=\"btn btn-info btn-sm mt-3\" (click)=\"submitInvoiceData()\">Enviar Datos para Factura</button>\r\n        </form>    \r\n        </div>\r\n            \r\n        \r\n<div *ngIf=\"!identity\">\r\n    <div class=\"alert alert-primary\">\r\n        You must login\r\n    </div>\r\n</div>","import { Component, OnInit } from '@angular/core';\r\nimport jsPDF from 'jspdf';\r\n\r\n@Component({\r\n  selector: 'app-invoice',\r\n  templateUrl: './invoice.component.html',\r\n  styleUrls: ['./invoice.component.scss']\r\n})\r\nexport class InvoiceComponent {\r\n  invoiceData = {\r\n    rfc: '',\r\n    razonSocial: '',\r\n    direccionFiscal: '',\r\n    emailFactura: '',\r\n    deseaFactura: false\r\n  };\r\n  submitInvoiceData() {\r\n    if (this.invoiceData.deseaFactura) {\r\n      // Genera el contenido de la factura con los datos\r\n      const facturaHTML = `\r\n        <h1>Factura</h1>\r\n        <p><strong>RFC:</strong> ${this.invoiceData.rfc}</p>\r\n        <p><strong>Razón Social:</strong> ${this.invoiceData.razonSocial}</p>\r\n        <p><strong>Dirección Fiscal:</strong> ${this.invoiceData.direccionFiscal}</p>\r\n        <p><strong>Correo Electrónico:</strong> ${this.invoiceData.emailFactura}</p>\r\n      `;\r\n\r\n      // Crear una nueva ventana para mostrar la factura\r\n      const facturaWindow = window.open('', '_blank');\r\n      facturaWindow.document.write(facturaHTML);\r\n      facturaWindow.document.close();\r\n\r\n      // Lanza la impresión en la nueva ventana\r\n      facturaWindow.print();\r\n    } else {\r\n      alert(\"No has solicitado factura.\");\r\n    }\r\n  }\r\n}","<div class=\"invoice-request mt-4\">\r\n    <h5 class=\"text-center\">Solicitar Factura</h5>\r\n    <hr>\r\n    <div class=\"row\">\r\n        <div class=\"col-12\">\r\n            <label for=\"rfc\">RFC:</label>\r\n            <input type=\"text\" id=\"rfc\" class=\"form-control\" placeholder=\"Ingresa tu RFC\" [(ngModel)]=\"invoiceData.rfc\">\r\n        </div>\r\n        <div class=\"col-12 mt-2\">\r\n            <label for=\"razonSocial\">Razón Social:</label>\r\n            <input type=\"text\" id=\"razonSocial\" class=\"form-control\" placeholder=\"Ingresa tu razón social\" [(ngModel)]=\"invoiceData.razonSocial\">\r\n        </div>\r\n        <div class=\"col-12 mt-2\">\r\n            <label for=\"direccionFiscal\">Dirección Fiscal:</label>\r\n            <input type=\"text\" id=\"direccionFiscal\" class=\"form-control\" placeholder=\"Ingresa tu dirección fiscal\" [(ngModel)]=\"invoiceData.direccionFiscal\">\r\n        </div>\r\n        <div class=\"col-12 mt-2\">\r\n            <label for=\"emailFactura\">Correo Electrónico para Factura:</label>\r\n            <input type=\"email\" id=\"emailFactura\" class=\"form-control\" placeholder=\"Ingresa tu correo\" [(ngModel)]=\"invoiceData.emailFactura\">\r\n        </div>\r\n        <div class=\"col-12 mt-3\">\r\n            <label class=\"checkbox-inline\">\r\n                <input type=\"checkbox\" [(ngModel)]=\"invoiceData.deseaFactura\" /> ¿Deseas recibir factura?\r\n            </label>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n<button type=\"button\" class=\"btn btn-info btn-sm mt-3\" (click)=\"submitInvoiceData()\">Enviar Datos para Factura</button>\r\n","import { Component, OnInit } from \"@angular/core\";\r\nimport { Router, ActivatedRoute, Params } from \"@angular/router\";\r\nimport { NgForm } from \"@angular/forms\";\r\nimport { Title } from '@angular/platform-browser';\r\n\r\n\r\nimport { GLOBAL } from \"../../../services/GLOBAL\";\r\nimport { UsersServices } from \"../../../services/users.services\";\r\nimport { ProductsServices } from \"../../../services/products.services\";\r\nimport { Products } from \"../../../models/products_model\";\r\n\r\n\r\n@Component({\r\n  selector: 'app-newproduct',\r\n  templateUrl: './newproduct.component.html',\r\n  styleUrls: ['./newproduct.component.scss'],\r\n  providers: [ ProductsServices, UsersServices ]\r\n})\r\nexport class NewproductComponent implements OnInit {\r\n\r\n  public products:Products;\r\n  public identity;\r\n  public token;\r\n  public url: string;\r\n  public alertMessage;\r\n\r\n  constructor(\r\n    private Title: Title,\r\n    private productsservices: ProductsServices,\r\n    private usersservices:UsersServices,\r\n    private route: ActivatedRoute,\r\n    private router: Router\r\n  ) {\r\n    this.url = GLOBAL.url;\r\n    this.Title.setTitle('Añadir producto - Centli');\r\n    this.products = new Products ('','','','','','','');\r\n  }\r\n\r\n  ngOnInit(): void {\r\n\r\n    this.identity = this.usersservices.getIdentity();\r\n    this.token = this.usersservices.getToken();\r\n\r\n  }\r\n\r\n  public onSubmit(f:NgForm) {\r\n    this.productsservices.addNewProduct(this.token, this.products).subscribe(\r\n      response => {\r\n        if(!response.INFO_PRODUCT) {\r\n          this.alertMessage = 'Se encontrarón problemas en el servidor.'\r\n        } else {\r\n          if(!this.filesToUpload) {  \r\n            this.alertMessage = 'Se añadió el producto, pero no se adjuntó imagen.'\r\n          } else {\r\n            this.makeFileRequest(this.url + '/add-image/' + response.INFO_PRODUCT._id, [] , this.filesToUpload).then(\r\n              (result: any) =>{\r\n                this.products.image = result.image;\r\n                this.alertMessage = 'Producto creado con exito!';\r\n                this.products = response.INFO_PRODUCT;        \r\n              }\r\n            );\r\n          }\r\n        }\r\n      },  \r\n      error => {\r\n        console.log(error);\r\n      }\r\n    )\r\n  }\r\n\r\n  public filesToUpload: Array<File>;\r\n\r\n  fileChangeEvent(fileInput: any) {\r\n    this.filesToUpload = <Array<File>>fileInput.target.files;    \r\n  }\r\n\r\n  makeFileRequest(url: string, params: Array<string>, files: Array<File>) {\r\n    \r\n    var token = this.token;\r\n\r\n    return new Promise(function(resolve, reject){\r\n      var formData: any = new FormData();\r\n      var xhr = new XMLHttpRequest();\r\n\r\n      for(var i = 0; i < files.length; i++) {\r\n        formData.append('image', files[i], files[i].name);\r\n      }\r\n\r\n      xhr.onreadystatechange = function() {\r\n        if(xhr.readyState == 4) {\r\n          if(xhr.status == 200) {\r\n            resolve(JSON.parse(xhr.response));\r\n          } else {\r\n            reject(xhr.response);\r\n          }\r\n        }\r\n      }\r\n      \r\n      xhr.open('POST', url, true);\r\n      xhr.setRequestHeader('Authorization', token);\r\n      xhr.send(formData);\r\n\r\n    });\r\n\r\n  }\r\n\r\n}\r\n","<div *ngIf=\"identity\">\r\n    <div *ngIf=\"identity.role == 'ROLE_ADMIN'\">\r\n        <app-navbar-store></app-navbar-store>\r\n        <div class=\"FirstSection pt-3\">\r\n            <div class=\"text\">\r\n                <h3>Añadir un nuevo producto</h3>\r\n                <hr width=\"75%\">\r\n                <form (ngSubmit)=\"onSubmit(f)\" #f=\"ngForm\" class=\"d-block m-auto col-12 col-sm-8 col-md-6 col-lg-5\">\r\n                    <div>\r\n                        <p class=\"col-12\">\r\n                            <img src=\"../../../../assets/svg/productForm.svg\" alt=\"Icon Form\" />\r\n                            <input \r\n                                type=\"text\"\r\n                                name=\"productName\"\r\n                                id=\"productName\"\r\n                                placeholder=\"Nombre del producto\"\r\n                                class=\"form-control productName\"\r\n                                #productName=\"ngModel\"\r\n                                required\r\n                                [(ngModel)]=\"products.productName\"\r\n                                [class.is-invalid]=\"productName.touched && productName.invalid\"\r\n                            />\r\n                            <span class=\"text-danger\" *ngIf=\"productName.errors?.required && productName.touched\">!</span>     \r\n                        </p>\r\n                        <p class=\"col-12\">\r\n                            <img src=\"../../../../assets/svg/product_documentsForm.svg\" alt=\"Icon Form\" />\r\n                            <input \r\n                                type=\"text\"\r\n                                name=\"brand\"\r\n                                id=\"brand\"\r\n                                placeholder=\"Nombre de la marca del producto\"\r\n                                class=\"form-control brand\"\r\n                                #brand=\"ngModel\"\r\n                                required\r\n                                [(ngModel)]=\"products.brand\"\r\n                                [class.is-invalid]=\"brand.touched && brand.invalid\"\r\n                            />\r\n                            <span class=\"text-danger\" *ngIf=\"brand.errors?.required && brand.touched\">!</span>     \r\n                        </p>\r\n                        <p class=\"col-12\">\r\n                            <img src=\"../../../../assets/svg/PriceTagForm.svg\" alt=\"Icon Form\" />\r\n                            <input \r\n                                type=\"text\"\r\n                                name=\"price\"\r\n                                id=\"price\"\r\n                                placeholder=\"Precio del producto\"\r\n                                class=\"form-control price\"\r\n                                #price=\"ngModel\"\r\n                                required\r\n                                [(ngModel)]=\"products.price\"\r\n                                [class.is-invalid]=\"price.touched && price.invalid\"\r\n                            />\r\n                            <span class=\"text-danger\" *ngIf=\"price.errors?.required && price.touched\">!</span>     \r\n                        </p>\r\n                        <p class=\"col-12\">\r\n                            <img src=\"../../../../assets/svg/more_detailsForm.svg\" alt=\"Icon Form\" />\r\n                            <textarea\r\n                            placeholder=\"Descripción del producto\"\r\n                            name=\"description\"\r\n                            id=\"description\"\r\n                            class=\"description form-control\"\r\n                            #description=\"ngModel\"\r\n                            required\r\n                            [(ngModel)]=\"products.description\"\r\n                            [class.is-invalid]=\"description.touched && description.invalid\"\r\n                            >\r\n                            </textarea>\r\n                            <span class=\"text-danger\" *ngIf=\"description.errors?.required && description.touched\">!</span> \r\n                        </p>\r\n                        <p class=\"col-12\">\r\n                            <img src=\"../../../../assets/svg/spachelor.svg\" alt=\"Icon Form\" />\r\n                            <input \r\n                                type=\"text\"\r\n                                name=\"material\"\r\n                                id=\"material\"\r\n                                placeholder=\"Material del producto\"\r\n                                class=\"form-control material\"\r\n                                #material=\"ngModel\"\r\n                                required\r\n                                [(ngModel)]=\"products.material\"\r\n                                [class.is-invalid]=\"material.touched && material.invalid\"\r\n                            />\r\n                            <span class=\"text-danger\" *ngIf=\"material.errors?.required && material.touched\">!</span>     \r\n                        </p>\r\n                        <p class=\"col-12\">\r\n                            <img src=\"../../../../assets/svg/imageForm.svg\" alt=\"Icon Form\" />                        \r\n                            <input \r\n                                type=\"file\"\r\n                                name=\"image\"\r\n                                id=\"image\"\r\n                                placeholder=\"Imagen del producto\"\r\n                                class=\"form-control image\"\r\n                                (change)=\"fileChangeEvent($event);\"\r\n                            />\r\n                        </p>\r\n\r\n                        <button type=\"submit\" class=\"btn btn-response d-block\" [disabled]=\"!f.valid\">\r\n                            Añadir producto\r\n                        </button>\r\n\r\n                    </div>\r\n                </form>\r\n            </div>\r\n            <div class=\"message rounded\">\r\n                <h3>Respuesta del servidor:</h3>\r\n                <div *ngIf=\"alertMessage\">\r\n                    <div class=\"alert alert-primary w-50\">\r\n                        {{alertMessage}}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div *ngIf=\"identity.role == 'ROLE_USER'\">\r\n        <div class=\"alert alert-primary\">\r\n            You are not admin in this platform.\r\n        </div>        \r\n    </div>\r\n</div>\r\n\r\n<div *ngIf=\"!identity\">\r\n    <app-store></app-store>\r\n</div>","import { Component, OnInit } from '@angular/core';\r\nimport { Router, ActivatedRoute, Params } from \"@angular/router\";\r\nimport { NgForm } from \"@angular/forms\";\r\nimport { Title } from \"@angular/platform-browser\";\r\n\r\nimport { GLOBAL } from \"../../../services/GLOBAL\";\r\nimport { UsersServices } from \"../../../services/users.services\";\r\nimport { ProductsServices } from \"../../../services/products.services\";\r\nimport { Products } from \"../../../models/products_model\";\r\nimport { CartServices } from '../../../services/cart.services';\r\n\r\n@Component({\r\n  selector: 'app-product',\r\n  templateUrl: './product.component.html',\r\n  styleUrls: ['./product.component.scss'],\r\n  providers: [ ProductsServices, UsersServices ]\r\n})\r\nexport class ProductComponent implements OnInit {\r\n\r\n  public products:Products;\r\n  public identity;\r\n  public token;\r\n  public url: string;\r\n  public alertMessage;\r\n\r\n  constructor(\r\n    private Title: Title,\r\n    private productsservices: ProductsServices,\r\n    private usersservices:UsersServices,\r\n    private route: ActivatedRoute,\r\n    private router: Router,\r\n    public cartServices: CartServices\r\n  ) { \r\n    this.Title.setTitle(\"Product - Centli\");\r\n    this.products = new Products ('','','','','','','');\r\n    this.url = GLOBAL.url;\r\n  }\r\n\r\n  \r\n  MyProducts = [];\r\n\r\n  addToCart(product) {\r\n    if(!this.cartServices.productsInCart(product)) {\r\n      product.qtyTotal = 1;\r\n      this.cartServices.addToCart(product);\r\n      this.MyProducts = [...this.cartServices.getProducts()];\r\n      alert(\"El producto se añadió con éxito a tu carrito 😃\");\r\n    }\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.getProductAlone();\r\n    this.identity = this.usersservices.getIdentity();\r\n    this.token = this.usersservices.getToken();\r\n    this.cartServices.loadCart();\r\n    this.MyProducts = this.cartServices.getProducts();\r\n  }\r\n\r\n  login() {\r\n    this.router.navigate(['/learning']);\r\n  }\r\n\r\n  getProductAlone() {\r\n    this.route.params.forEach((params: Params) => {\r\n\r\n      let id = params['id'];\r\n\r\n      this.productsservices.getProduct(id).subscribe(\r\n        response => {\r\n          if(response.id) {\r\n            alert(\"El producto que buscas no existe.\");\r\n          }\r\n          else {\r\n            this.products = response.product;    \r\n          }\r\n        },\r\n        error => {\r\n          console.log(error);\r\n        }\r\n      )\r\n\r\n    });\r\n  }\r\n\r\n  public confirm;\r\n\r\n  onCancelProduct() {\r\n    this.confirm = null;\r\n    document.querySelector(\".FirstSection\").scrollIntoView({behavior: \"smooth\"});\r\n  }\r\n\r\n  onDeleteConfirm(id) {\r\n    this.confirm = id;\r\n  }\r\n\r\n\r\n  onDeleteProduct(id) {\r\n    this.productsservices.deleteProduct(this.token, id).subscribe(\r\n      response => {\r\n        if(!response.productsRemoved) {\r\n          alert(\"Se encontraron problemas en el servidor.\");\r\n        } \r\n        else if(response.productsRemoved) {\r\n          alert(\"El producto se eliminó con éxito.\");\r\n          this.router.navigate(['/store']);\r\n        }\r\n      },\r\n      error => {\r\n        console.log(error);\r\n      }\r\n    )\r\n  }\r\n\r\n  public update;\r\n\r\n  onUpdateConfirm(id) {\r\n    this.update = id;\r\n  }\r\n\r\n  onUpdateCancel() {\r\n    this.update = null;\r\n    document.querySelector(\".FirstSection\").scrollIntoView({behavior: \"smooth\"});\r\n  }\r\n\r\n  onUpdateProduct(id) {\r\n    this.productsservices.updateProduct(this.token, id, this.products).subscribe(\r\n      response => {\r\n        if(!response.INFO_PRODUCT) {\r\n          alert(\"Se encontraron problemas en el servidor.\");\r\n        } else {\r\n          if(!this.filesToUpload) {\r\n            this.products = response.INFO_PRODUCT;\r\n            this.router.navigate(['/store']);\r\n            alert(\"El producto se modificó con éxito.\");\r\n          } else {\r\n            this.makeFileRequest(this.url + '/add-image/' + response.INFO_PRODUCT._id, [], this.filesToUpload),\r\n            (result: any) => {\r\n              this.products.image = result.image;\r\n              this.alertMessage = 'Producto modificado con exito...';\r\n              alert(\"El producto fue modificado con exito.\");\r\n              this.products = response.INFO_PRODUCT;\r\n              this.router.navigate(['/store']);\r\n            }\r\n          }\r\n        }\r\n      },\r\n      error => {\r\n        console.log(error);\r\n      }\r\n    )\r\n  }\r\n\r\n  public filesToUpload: Array<File>;\r\n\r\n  fileChangeEvent(fileInput: any) {\r\n    this.filesToUpload = <Array<File>>fileInput.target.files;    \r\n    console.log(this.filesToUpload);\r\n  }\r\n\r\n  makeFileRequest(url: string, params: Array<string>, files: Array<File>) {\r\n    \r\n    var token = this.token;\r\n\r\n    return new Promise(function(resolve, reject){\r\n      var formData: any = new FormData();\r\n      var xhr = new XMLHttpRequest();\r\n\r\n      for(var i = 0; i < files.length; i++) {\r\n        formData.append('image', files[i], files[i].name);\r\n      }\r\n\r\n      xhr.onreadystatechange = function() {\r\n        if(xhr.readyState == 4) {\r\n          if(xhr.status == 200) {\r\n            resolve(JSON.parse(xhr.response));\r\n          } else {\r\n            reject(xhr.response);\r\n          }\r\n        }\r\n      }\r\n      \r\n      xhr.open('POST', url, true);\r\n      xhr.setRequestHeader('Authorization', token);\r\n      xhr.send(formData);\r\n\r\n    });\r\n\r\n  }\r\n\r\n}","<app-navbar-store></app-navbar-store>\r\n\r\n<div *ngIf=\"identity\">\r\n    <div class=\"FirstSection\" *ngIf=\"products\">\r\n        <div class=\"container\">\r\n            <div class=\"row justify-content-lg-around\">\r\n                <div class=\"text col-sm-12 col-md-12 col-md-10 col-lg-6 col-xl-6 col-12\" data-aos=\"fade-down\">\r\n                    <h3>{{products.productName}}</h3>\r\n                    <hr>\r\n                    <h4>ID del producto: <span>{{products._id}}</span></h4>\r\n                    <h4>Marca: <span>{{products.brand}}</span></h4>\r\n                    <h4>Material del producto: <span>{{products.material}}</span></h4>\r\n                    <h4 class=\"price\">$ {{products.price}} MX</h4>\r\n                    <div class=\"col-2\">\r\n                        <input class=\"w-100\" disabled type=\"hidden\" min=\"1\" value=\"1\" />\r\n                    </div>\r\n                    <button class=\"btn waves-effect waves-ripple\" (click)=\"addToCart(products)\"><img src=\"../../../../assets/svg/buy.svg\">Agregar al carrito</button>            \r\n\r\n                    <div class=\"actions d-lg-flex justify-content-lg-start\" *ngIf=\"identity.role == 'ROLE_ADMIN'\">\r\n                        <a class=\"btn btn-edit waves-effect waves-ripple\" (click)=\"onUpdateConfirm(products._id)\">\r\n                            <img src=\"../../../../assets/svg/tags.svg\" alt=\"Logo\" />\r\n                            Editar producto\r\n                        </a>\r\n                        <a class=\"btn btn-delete waves-effect waves-ripple\" (click)=\"onDeleteConfirm(products._id)\">\r\n                            <img src=\"../../../../assets/svg/trash.svg\" alt=\"Logo\" />\r\n                            Eliminar este producto\r\n                        </a>\r\n                    </div>\r\n                    \r\n                    <div class=\"secure\" *ngIf=\"confirm == products._id\">\r\n                        <p>¿Estas seguro de eliminar este producto?</p>\r\n                        <div class=\"buttons d-lg-flex justify-content-lg-around\">\r\n                            <a class=\"btn btn-cancel btn-primary waves-effect waves-ripple\" (click)=\"onCancelProduct()\">\r\n                                No, cancelar esta acción\r\n                            </a>\r\n                            <a class=\"btn btn-deletes btn-danger waves-effect waves-ripple\" (click)=\"onDeleteProduct(products._id)\">\r\n                                Sí, eliminar definitivamente\r\n                            </a>\r\n                        </div>\r\n                    </div>\r\n                    \r\n                    <div class=\"secure-update\" *ngIf=\"update == products._id\">\r\n                        <p>Modificar producto</p>\r\n                        <form (ngSubmit)=\"onUpdateProduct(products._id)\" #f=\"ngForm\">\r\n                            <p>\r\n                                <input type=\"text\" class=\"form-control\" name=\"productName\" id=\"\" value=\"{{products.productName}}\" #productName=\"ngModel\" [(ngModel)]=\"products.productName\">\r\n                            </p>\r\n                            <p>\r\n                                <input type=\"text\" class=\"form-control\" name=\"brand\" id=\"\" value=\"{{products.brand}}\" #brand=\"ngModel\" [(ngModel)]=\"products.brand\">\r\n                            </p>\r\n                            <p>\r\n                                <input type=\"text\" class=\"form-control\" name=\"price\" id=\"\" value=\"{{products.price}}\" #price=\"ngModel\" [(ngModel)]=\"products.price\">\r\n                            </p>\r\n                            <p>\r\n                                <textarea class=\"form-control\" name=\"description\" value=\"{{products.description}}\" #description=\"ngModel\" [(ngModel)]=\"products.description\"></textarea>\r\n                            </p>\r\n                            <p>\r\n                                <input type=\"text\" class=\"form-control\" name=\"material\" value=\" {{products.material}}\" #material=\"ngModel\" [(ngModel)]=\"products.material\">\r\n                            </p>\r\n                            <p>\r\n                                <input type=\"file\" class=\"form-control\" name=\"image\" id=\"\" (change)=\"fileChangeEvent($event)\">\r\n                            </p>\r\n    \r\n                            <div class=\"actions d-lg-flex justify-content-lg-around\">\r\n                                <button type=\"reset\" class=\"btn waves-effect waves-ripple\" (click)=\"onUpdateCancel()\">Cancelar acción</button>\r\n                                <button type=\"submit\" class=\"btn waves-effect waves-ripple\">Actualizar producto</button>\r\n                            </div>\r\n    \r\n                        </form>\r\n                    </div>\r\n\r\n                </div>\r\n                <div class=\"image col-sm-12 col-md-12 col-md-10 col-lg-6 col-xl-6 col-12\" data-aos=\"fade-down\">\r\n                    <img src=\"{{url + '/get-image-product/' + products.image}}\"  class=\"rounded\">\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class=\"TwoSection container\">\r\n            <div class=\"description\">\r\n                <h3>Descripción del producto</h3>\r\n                <hr width=\"100%\"/>\r\n                <p [innerHtml]=\"products.description\"></p>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <a href=\"store/cart\" class=\"btn-cart\">\r\n        <div>\r\n            <img src=\"../../../assets/svg/Shopping Cart.svg\" alt=\"cart\" class=\"img-fluid\" />\r\n        </div>\r\n    </a>\r\n</div>\r\n\r\n<div *ngIf=\"identity == null\">\r\n    <div class=\"FirstSection\" *ngIf=\"products\">\r\n        <div class=\"container\">\r\n            <div class=\"row justify-content-lg-around\">\r\n                <div class=\"text col-sm-12 col-md-12 col-md-10 col-lg-6 col-xl-6 col-12\">\r\n                    <h3>{{products.productName}}</h3>\r\n                    <hr>\r\n                    <h4>ID del producto: <span>{{products._id}}</span></h4>\r\n                    <h4>Marca: <span>{{products.brand}}</span></h4>\r\n                    <h4>Material del producto: <span>{{products.material}}</span></h4>\r\n                    <h4 class=\"price\">$ {{products.price}} MX</h4>\r\n                    <button class=\"btn waves-effect waves-ripple\" (click)=\"login();\"><img src=\"../../../../assets/svg/buy.svg\">Agregar al carrito</button>            \r\n                </div>\r\n                <div class=\"image col-sm-12 col-md-12 col-md-10 col-lg-6 col-xl-6 col-12\">\r\n                    <img src=\"{{url + '/get-image-product/' + products.image}}\" class=\"rounded\">\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class=\"TwoSection container\" data-aos=\"fade-down\">\r\n            <div class=\"description\">\r\n                <h3>Descripción del producto</h3>\r\n                <hr width=\"100%\"/>\r\n                <p [innerHtml]=\"products.description\"></p>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { CartComponent } from './cart/cart.component';\r\nimport { NewproductComponent } from './newproduct/newproduct.component';\r\nimport { ProductComponent } from './product/product.component';\r\nimport { StoreComponent } from './store.component';\r\n\r\nconst routes: Routes = [\r\n  { path: '', component: StoreComponent },\r\n  { path: 'add-product', component: NewproductComponent},\r\n  { path: 'product/:id', component: ProductComponent },\r\n  { path: 'cart', component: CartComponent}\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class StoreRoutingModule { }\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { ActivatedRoute, Router, Params } from '@angular/router';\r\nimport { Title } from '@angular/platform-browser';\r\nimport { UsersServices } from '../../services/users.services';\r\nimport { ProductsServices } from '../../services/products.services';\r\nimport { Users } from '../../models/users_model';\r\nimport { Products} from '../../models/products_model';\r\nimport { GLOBAL } from '../../services/GLOBAL';\r\nimport * as $ from \"jquery\";\r\n\r\n@Component({\r\n  selector: 'app-store',\r\n  templateUrl: './store.component.html',\r\n  styleUrls: ['./store.component.scss'],\r\n  providers: [ ProductsServices, UsersServices ]\r\n})\r\nexport class StoreComponent implements OnInit {\r\n\r\n  public identity;\r\n  public token;\r\n  public users: Users;\r\n  public products: Products[];\r\n  public searchTerm: string;\r\n  public url: string;\r\n  public next_page;\r\n  public prev_page;\r\n\r\n  constructor(\r\n    private Title: Title,\r\n    private usersservices:UsersServices,\r\n    private productsservices: ProductsServices,\r\n    private route: ActivatedRoute,\r\n    private router: Router\r\n    \r\n  ) {\r\n    this.Title.setTitle('Tienda - Centli');\r\n    this.next_page = 1;\r\n    this.prev_page = 1;  \r\n    this.url = GLOBAL.url;\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    \r\n    this.identity = this.usersservices.getIdentity();\r\n    this.token = this.usersservices.getToken();\r\n\r\n    this.getProducts();\r\n\r\n  }\r\n\r\n  getProducts() {\r\n    this.route.params.forEach((params: Params) => {\r\n\r\n      let page = + params['page'];\r\n      if(!page){\r\n        page = 1;\r\n      } else {\r\n        \r\n        this.next_page = page + 1;\r\n        this.prev_page = page - 1;\r\n\r\n        if(this.prev_page == 0) {\r\n          this.prev_page = 1;\r\n        }\r\n      }\r\n\r\n      this.productsservices.getProducts(page).subscribe(\r\n        response => {\r\n          if(response.page) {\r\n            this.router.navigate(['/']);\r\n          }\r\n          else {\r\n            this.products = response.product;\r\n          }\r\n        },\r\n        error => {\r\n          console.log(error);\r\n        }\r\n      )\r\n\r\n\r\n    });\r\n  }\r\n\r\n}\r\n","<div *ngIf=\"identity\">\r\n    <div>\r\n        <app-navbar-store></app-navbar-store>\r\n        <div class=\"TwoSection pt-5 d-lg-flex justify-content-around\">\r\n            <h3 data-aos=\"fade-down\">Productos disponibles en nuestra tienda</h3>\r\n            <div class=\"form-group\" data-aos=\"fade-down\">\r\n                <input\r\n                    class=\"form-control\"\r\n                    type=\"text\"\r\n                    name=\"search\"\r\n                    spellcheck=\"false\"\r\n                    id=\"search\"\r\n                    [(ngModel)]=\"searchTerm\"\r\n                    placeholder=\"Escribe el producto que buscas...\"\r\n                /> \r\n                <img src=\"../../../assets/svg/Search.svg\" alt=\"Search Icon\" />\r\n            </div>\r\n        </div>\r\n        <div class=\"ThirdSection\">\r\n            <p class=\"item-not-found\" *ngIf=\"!(products | productFilter:searchTerm)?.length\"><span><strong>No se han encontrado resultados.</strong></span><span class=\"info-item\">No podemos encontrar ningún artículo que coincida con su búsqueda<br> o actualmente no hay productos disponibles.</span> <span>\\(o_o)/</span> </p>\r\n            <div class=\"container\">\r\n                <div class=\"row justify-content-around\">\r\n                    <a \r\n                        [routerLink]=\"['product/', product._id]\" \r\n                        routerLinkActive=\"router-link-active\" \r\n                        class=\"product p-3 mt-5 text-none rounded\" \r\n                        *ngFor=\"let product of products | productFilter:searchTerm\"\r\n                        data-aos=\"fade-down\"\r\n                    >\r\n                        <div class=\"image\">\r\n                            <img src=\"{{ url + '/get-image-product/' + product.image}}\" alt=\"image\" class=\"rounded img-fluid\" />\r\n                        </div>\r\n                        <hr>\r\n                        <div class=\"text\">\r\n                            <h4 class=\"__name\">{{product.productName}}</h4>\r\n                            <h4 class=\"__price\">$ {{product.price}} MX</h4>\r\n                        </div>\r\n                    </a>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <a [routerLink]=\"['cart']\" routerLinkActive=\"router-link-active\" class=\"btn-cart\">\r\n            <div>\r\n                <img src=\"../../../assets/svg/Shopping Cart.svg\" alt=\"cart\" class=\"img-fluid\" />\r\n            </div>\r\n        </a>\r\n        <a [routerLink]=\"['add-product']\" routerLinkActive=\"router-link-active\" class=\"btn-add\">\r\n            <div>\r\n                <img src=\"../../../assets/svg/addC.svg\" alt=\"cart\" class=\"img-fluid\" />\r\n            </div>\r\n        </a>\r\n        <app-footer-store></app-footer-store>\r\n    </div>\r\n</div>\r\n\r\n<div *ngIf=\"!identity\">\r\n    <div>\r\n        <app-navbar-store></app-navbar-store>\r\n        <div class=\"TwoSection pt-5 d-lg-flex justify-content-around\">\r\n            <h3>Productos disponibles en nuestra tienda</h3>\r\n            <div class=\"form-group\">\r\n                <input\r\n                    class=\"form-control\"\r\n                    type=\"text\"\r\n                    name=\"search\"\r\n                    spellcheck=\"false\"\r\n                    id=\"search\"\r\n                    [(ngModel)]=\"searchTerm\"\r\n                    placeholder=\"Escribe el producto que buscas...\"\r\n                /> \r\n                <img src=\"../../../assets/svg/Search.svg\" alt=\"Search Icon\" />\r\n            </div>\r\n        </div>\r\n        <div class=\"ThirdSection\">\r\n            <p class=\"item-not-found\" *ngIf=\"!(products | productFilter:searchTerm)?.length\"><span><strong>No se han encontrado resultados.</strong></span><span class=\"info-item\">No podemos encontrar ningún artículo que coincida con su búsqueda<br> o actualmente no hay productos disponibles.</span> <span>\\(o_o)/</span> </p>\r\n            <div class=\"container\">\r\n                <div class=\"row justify-content-around\">\r\n                    <a \r\n                        [routerLink]=\"['product/', product._id]\" \r\n                        routerLinkActive=\"router-link-active\" \r\n                        class=\"product p-3 mt-5 rounded text-none rounded\" \r\n                        *ngFor=\"let product of products | productFilter:searchTerm\"\r\n                        data-aos=\"fade-down\"\r\n                    >\r\n                        <div class=\"image\">\r\n                            <img src=\"{{ url + '/get-image-product/' + product.image}}\" alt=\"image\" class=\"rounded img-fluid\" />\r\n                        </div>\r\n                        <hr>\r\n                        <div class=\"text\">\r\n                            <h4 class=\"__name\">{{product.productName}}</h4>\r\n                            <h4 class=\"__price\">$ {{product.price}} MX</h4>\r\n                        </div>\r\n                    </a>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <app-footer-store></app-footer-store>\r\n    </div>\r\n</div>","import { PipeTransform, Pipe } from '@angular/core';\r\nimport { Products } from '../../models/products_model';\r\n\r\n@Pipe({\r\n    name: 'productFilter'\r\n})\r\n\r\nexport class ProductFilterPipe implements PipeTransform {\r\n    transform(product: Products[], searchTerm: string): Products[] {\r\n        \r\n        if(!searchTerm || !product) {\r\n            return product;\r\n        }\r\n\r\n        return product.filter(product => product.productName.toLowerCase().indexOf(searchTerm.toLowerCase()) !== -1);\r\n\r\n    }\r\n}","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { HttpClientModule } from '@angular/common/http';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { CurrencyPipe } from '@angular/common';\r\n\r\nimport { StoreRoutingModule } from './store-routing.module';\r\nimport { StoreComponent } from './store.component';\r\nimport { ComponentsModule } from 'src/app/components/components.module';\r\nimport { NewproductComponent } from './newproduct/newproduct.component';\r\nimport { ProductComponent } from './product/product.component';\r\nimport { ProductFilterPipe } from './store.filter.pipe';\r\nimport { CartComponent } from './cart/cart.component';\r\nimport { InvoiceComponent } from './cart/invoice/invoice.component';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    StoreComponent, \r\n    NewproductComponent, \r\n    ProductComponent,\r\n    ProductFilterPipe,\r\n    CartComponent,\r\n    InvoiceComponent\r\n  ],\r\n  imports: [\r\n    CommonModule,\r\n    StoreRoutingModule,\r\n    HttpClientModule,\r\n    FormsModule,\r\n    ReactiveFormsModule,\r\n    ComponentsModule\r\n  ],\r\n  providers: [\r\n    CurrencyPipe\r\n  ]\r\n})\r\nexport class StoreModule { }\r\n","import { Injectable } from '@angular/core';\r\nimport { Products } from '../models/products_model';\r\nimport { ProductsServices } from '../services/products.services';\r\n\r\n@Injectable({\r\n    providedIn: 'root'\r\n})\r\n\r\nexport class CartServices {\r\n\r\n    constructor() {}\r\n\r\n    products = [];\r\n\r\n    addToCart(addedProduct) {\r\n        this.products.push(addedProduct);\r\n        this.saveCart();\r\n    }\r\n\r\n    saveCart(): void {\r\n        localStorage.setItem('cart_items', JSON.stringify(this.products));\r\n    }\r\n\r\n    loadCart(): void {\r\n        this.products = JSON.parse(localStorage.getItem(\"cart_items\")) ?? [];\r\n    }\r\n\r\n    getProducts() {\r\n        return this.products;\r\n    }\r\n\r\n    productsInCart(product): boolean {\r\n        return this.products.findIndex(o => o.id === product._id) > -1;\r\n    }\r\n\r\n    removeProduct(product) {\r\n        const index = this.products.findIndex(o => o.id === product.id);\r\n    \r\n        if (index > -1) {\r\n          this.products.splice(index, 1);\r\n          this.saveCart();\r\n          alert(\"El producto que seleccionaste se eliminó con éxito 😊\");\r\n        }\r\n    }\r\n\r\n    clearCart(products) {\r\n        if(localStorage.getItem(\"cart_items\") === null) {\r\n            alert(\"Tu carrito de compras se encuentra vació ☹\");\r\n        } else {\r\n            this.products = [];\r\n            localStorage.removeItem(\"cart_items\")\r\n            alert(\"Tu carrito de compras se limpió con éxito 😊\");\r\n        }\r\n    }\r\n\r\n}","import { Injectable } from \"@angular/core\";\r\nimport { HttpClient, HttpHeaders } from \"@angular/common/http\";\r\nimport 'rxjs/add/operator/map';\r\nimport { Http ,Response, Headers, RequestOptions } from \"@angular/http\";\r\nimport { Observable } from \"rxjs-compat/Observable\";\r\nimport { Products } from \"../models/products_model\";\r\n\r\nimport { GLOBAL } from './GLOBAL';\r\n\r\n@Injectable ({\r\n    providedIn: 'root'\r\n})\r\n\r\nexport class ProductsServices {\r\n    \r\n    public url: string;\r\n\r\n    constructor(private http:HttpClient) {\r\n        this.url = GLOBAL.url;\r\n    }\r\n\r\n    addNewProduct(token, products:Products):Observable<any> {\r\n\r\n        let json = JSON.stringify(products);\r\n        let params = json;\r\n\r\n        const headers = new HttpHeaders ({\r\n            'Content-Type' : 'application/json',\r\n            'Authorization': token\r\n        });\r\n\r\n        return this.http.post(this.url + '/new-product', params, { headers: headers});\r\n\r\n    }\r\n\r\n    getProduct(id: string):Observable<any> {\r\n        let headers = new HttpHeaders({\r\n            'Content-Type' : 'application/json',\r\n        });\r\n\r\n        return this.http.get(this.url + '/get-product/' + id, {headers: headers});\r\n\r\n\r\n    }\r\n\r\n    getProducts(page):Observable<any> {\r\n\r\n        const headers = new HttpHeaders ({\r\n            'Content-Type' : 'application/json',\r\n        });        \r\n\r\n        return this.http.get(this.url + '/get-all-products/' + page, {headers: headers});\r\n    }\r\n\r\n    updateProduct(token, id: string, products: Products):Observable<any> {\r\n        let params = JSON.stringify(products);\r\n        let headers = new HttpHeaders({\r\n            'Content-Type' : 'application/json',\r\n            'Authorization': token\r\n        });\r\n\r\n        return this.http.put(this.url + '/update-product/' + id, params, {headers: headers});\r\n\r\n    }\r\n\r\n    \r\n    deleteProduct(token, id: string):Observable<any> {\r\n        let headers = new HttpHeaders({\r\n            'Content-Type' : 'application/json',\r\n            'Authorization': token\r\n        });\r\n\r\n        return this.http.delete(this.url + '/delete-product/' + id, {headers: headers});\r\n\r\n        \r\n    }\r\n\r\n}"]}